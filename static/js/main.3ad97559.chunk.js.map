{"version":3,"sources":["StickerService.js","Components/Header.jsx","Components/Sticker.jsx","Components/StickerList.jsx","Components/Modal.jsx","App.js","index.js"],"names":["axios","create","baseURL","Header","onAddSticker","className","onClick","Sticker","sticker","onChange","onRemove","onSave","onEdit","prevPosition","x","y","dragging","clientX","clientY","id","stopDrag","document","removeEventListener","style","top","left","getStickerStyle","onMouseDown","addEventListener","onMouseUp","title","aria-hidden","name","readOnly","value","description","onBlur","StickerList","stickers","map","key","Modal","history","useHistory","close","push","initialValues","onSubmit","values","validate","errors","dirty","isValid","autoComplete","htmlFor","as","type","disabled","App","useState","setStickers","selectedSticker","setSelectedSticker","getStickers","a","StickerService","get","data","useEffect","openForm","createSticker","post","changeSticker","updatedData","find","item","newStickers","checkSticker","sendSticker","put","filter","delete","path","updateSticker","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3ad97559.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://5dd3d5ba8b5e080014dc4bfa.mockapi.io/stickers\"\r\n})","import React from 'react';\r\nimport './index.scss';\r\n\r\nconst Header = ({onAddSticker}) => {\r\n  return (\r\n      <header className=\"header_desk\">\r\n        <button onClick={onAddSticker} className=\"add_sticker\">Add Sticker</button>\r\n      </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './index.scss';\r\n\r\nconst Sticker = ({sticker, onChange, onRemove, onSave, onEdit}) => {\r\n\r\nlet prevPosition = {x:0, y:0};\r\n\r\nconst dragging = (({clientX, clientY}) => {\r\n  const { x, y } = sticker;\r\n    onChange(sticker.id, {\r\n      x: x + (clientX - prevPosition.x),\r\n      y: y + (clientY - prevPosition.y)\r\n  });\r\n})\r\n\r\nconst stopDrag = () => {\r\n  document.removeEventListener('mousemove', dragging);\r\n  document.removeEventListener('mouseup', stopDrag);\r\n}\r\n\r\nconst startDrag = (({clientX, clientY}) => {\r\n  prevPosition = {\r\n    x: clientX,\r\n    y: clientY\r\n  };\r\n  document.addEventListener('mousemove', dragging);\r\n  document.addEventListener('mouseup', stopDrag);\r\n})\r\n\r\n  const getStickerStyle = () => {\r\n    const {x , y} = sticker;\r\n    return {\r\n      top: y,\r\n      left: x\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div style={getStickerStyle()} className=\"sticker\">\r\n      <div className=\"button-group\">\r\n\r\n        <button onMouseDown={startDrag} onMouseUp={() => onSave(sticker.id)}>\r\n          <i className=\"far fa-dot-circle\" />\r\n        </button>\r\n\r\n          <span>{sticker.title} â„–{sticker.id}</span>\r\n\r\n        <button onClick={() => onEdit(sticker)}>\r\n          <i className=\"fas fa-edit\"></i>\r\n        </button>\r\n\r\n        <button onClick={() => onRemove(sticker)}>\r\n          <i className=\"fa fa-plus\" aria-hidden=\"true\" />\r\n        </button>\r\n\r\n      </div>\r\n      <textarea \r\n        name=\"description\"\r\n        readOnly={true}\r\n        value={sticker.description}\r\n        onBlur={() => onSave(sticker.id)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sticker;\r\n","import React, {Fragment} from 'react';\r\n\r\nimport Sticker from './Sticker';\r\n\r\nconst StickerList = ({ stickers, onEdit, onChange, onRemove, onSave }) => {\r\n  return (\r\n    <Fragment>\r\n      {stickers.map((sticker) => (\r\n        <Sticker \r\n        key={sticker.id}\r\n        sticker={sticker}\r\n        onRemove={onRemove}\r\n        onEdit={onEdit}\r\n        onChange={onChange}\r\n        onSave={onSave}\r\n        />\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\n\r\nexport default StickerList;","import React from 'react'\r\nimport {Field, Form, Formik} from 'formik'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Modal = ({sticker, onSave}) => {\r\n    const history = useHistory();\r\n    \r\n    const close = () => history.push('/');\r\n    \r\n\r\n    const onSubmit = values => {\r\n        onSave(values);\r\n        close();\r\n    }\r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.title) {\r\n            errors.title = \"*Empty Field\"\r\n        }\r\n\r\n        if (!values.description) {\r\n            errors.description = \"*Empty Field\"\r\n        }\r\n        return errors;\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <Formik \r\n            initialValues={sticker}\r\n            onSubmit={onSubmit}\r\n            validate={validate}\r\n            >\r\n            {({errors, dirty, isValid}) => (\r\n                <>\r\n                    <div className=\"fadeIn\" onClick={close}></div>\r\n                    <div className=\"modal\">\r\n                    <Form autoComplete=\"off\">\r\n                        <div className=\"fields\">\r\n                        <label htmlFor=\"title\">Title: </label>\r\n                            <Field as=\"input\" name=\"title\"/>\r\n                            {errors.title && <span>{errors.title}</span>}\r\n                        <label htmlFor=\"desctption\">Desctption: </label>\r\n                            <Field as=\"textarea\" name=\"description\"/>\r\n                            {errors.description && <span>{errors.description}</span>}\r\n                        </div>\r\n                        <div className=\"btnWrapper\">\r\n                            <button type=\"submit\" disabled={!dirty || !isValid}>Save</button>\r\n                            <button type=\"reset\" onClick={close}>Cancel</button>\r\n                        </div>\r\n                        </Form>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </Formik>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Modal","import React, {useState, useEffect, Fragment} from 'react';\r\nimport {Route, useHistory} from 'react-router-dom';\r\nimport StickerService from './StickerService';\r\n\r\nimport Header from './Components/Header';\r\nimport StickerList from './Components/StickerList';\r\nimport Modal from './Components/Modal';\r\n\r\nconst App = () => {\r\n  \r\n  const stickerTemplate = () => {\r\n    return {\r\n      title: '',\r\n      description: '',\r\n      x: 0,\r\n      y: 0,\r\n      id:0\r\n    }\r\n  }\r\n\r\n    const [stickers, setStickers] = useState([stickerTemplate()]);\r\n    const [selectedSticker, setSelectedSticker] = useState([stickerTemplate()])\r\n    const history = useHistory();\r\n\r\n    const getStickers = async () => {\r\n      const { data } = await StickerService.get('/');\r\n      return setStickers(data)\r\n    }\r\n\r\n    useEffect(() => getStickers(), []);\r\n\r\n    const openForm = () => history.push('/form');\r\n\r\n    const addSticker = () => {\r\n      setSelectedSticker(stickerTemplate());\r\n      return openForm();\r\n    }\r\n\r\n    const editSticker = sticker => {\r\n      setSelectedSticker(sticker);\r\n      return openForm();\r\n    }\r\n\r\n    const createSticker = async sticker => {\r\n      const { data } = await StickerService.post('', sticker);\r\n      return setStickers([...stickers, data]);\r\n    }\r\n\r\n    const checkSticker = sticker => {\r\n      const newStickers = stickers.map((item) => item.id === sticker.id ? sticker : item);\r\n      return setStickers(newStickers);\r\n    }\r\n\r\n    const changeSticker = (id, updatedData) => {\r\n      let sticker = stickers.find((item) => item.id === id);\r\n        sticker = {\r\n          ...sticker,\r\n          ...updatedData,\r\n      };\r\n      return checkSticker(sticker);\r\n  }\r\n\r\n    const updateSticker = sticker => {\r\n      changeSticker(sticker.id, sticker);\r\n      return sendSticker(sticker);\r\n    }\r\n\r\n    const saveSticker = sticker => {\r\n      sticker.id \r\n      ? updateSticker(sticker) \r\n      : createSticker(sticker);\r\n    }\r\n\r\n    const removeSticker = sticker => {\r\n      setStickers(stickers.filter((item) => item !== sticker));\r\n      return StickerService.delete(sticker.id);\r\n    }\r\n\r\n    const sendSticker = value => {\r\n      const sticker = (typeof value === \"object\") ? value : stickers.find(item => item.id === value);\r\n      return StickerService.put(sticker.id, sticker);\r\n    }\r\n\r\n  return(\r\n    <Fragment>\r\n      <Header onAddSticker={addSticker}/>\r\n      <div className=\"form\">\r\n      <StickerList\r\n        stickers={stickers}\r\n        onRemove={removeSticker}\r\n        onEdit={editSticker}\r\n        onChange={changeSticker}\r\n        onSave={sendSticker}\r\n      />\r\n        <Route path=\"/form\">\r\n          <Modal sticker={selectedSticker} onSave={saveSticker}/>\r\n        </Route>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}