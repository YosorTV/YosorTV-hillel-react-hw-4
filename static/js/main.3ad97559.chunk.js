(this.webpackJsonpdesk=this.webpackJsonpdesk||[]).push([[0],{33:function(e,t,n){},42:function(e,t,n){e.exports=n(69)},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),i=n.n(c),o=n(41),u=n(40),l=n(12),s=n.n(l),m=n(19),d=n(23),f=n(1),p=n(37),E=n.n(p).a.create({baseURL:"https://5dd3d5ba8b5e080014dc4bfa.mockapi.io/stickers"}),v=(n(33),function(e){var t=e.onAddSticker;return r.a.createElement("header",{className:"header_desk"},r.a.createElement("button",{onClick:t,className:"add_sticker"},"Add Sticker"))}),b=function(e){var t=e.sticker,n=e.onChange,a=e.onRemove,c=e.onSave,i=e.onEdit,o={x:0,y:0},u=function(e){var a=e.clientX,r=e.clientY,c=t.x,i=t.y;n(t.id,{x:c+(a-o.x),y:i+(r-o.y)})},l=function e(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)};return r.a.createElement("div",{style:function(){var e=t.x;return{top:t.y,left:e}}(),className:"sticker"},r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onMouseDown:function(e){var t=e.clientX,n=e.clientY;o={x:t,y:n},document.addEventListener("mousemove",u),document.addEventListener("mouseup",l)},onMouseUp:function(){return c(t.id)}},r.a.createElement("i",{className:"far fa-dot-circle"})),r.a.createElement("span",null,t.title," \u2116",t.id),r.a.createElement("button",{onClick:function(){return i(t)}},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{onClick:function(){return a(t)}},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),r.a.createElement("textarea",{name:"description",readOnly:!0,value:t.description,onBlur:function(){return c(t.id)}}))},k=function(e){var t=e.stickers,n=e.onEdit,c=e.onChange,i=e.onRemove,o=e.onSave;return r.a.createElement(a.Fragment,null,t.map((function(e){return r.a.createElement(b,{key:e.id,sticker:e,onRemove:i,onEdit:n,onChange:c,onSave:o})})))},y=n(13),h=function(e){var t=e.sticker,n=e.onSave,a=Object(f.e)(),c=function(){return a.push("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.c,{initialValues:t,onSubmit:function(e){n(e),c()},validate:function(e){var t={};return e.title||(t.title="*Empty Field"),e.description||(t.description="*Empty Field"),t}},(function(e){var t=e.errors,n=e.dirty,a=e.isValid;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fadeIn",onClick:c}),r.a.createElement("div",{className:"modal"},r.a.createElement(y.b,{autoComplete:"off"},r.a.createElement("div",{className:"fields"},r.a.createElement("label",{htmlFor:"title"},"Title: "),r.a.createElement(y.a,{as:"input",name:"title"}),t.title&&r.a.createElement("span",null,t.title),r.a.createElement("label",{htmlFor:"desctption"},"Desctption: "),r.a.createElement(y.a,{as:"textarea",name:"description"}),t.description&&r.a.createElement("span",null,t.description)),r.a.createElement("div",{className:"btnWrapper"},r.a.createElement("button",{type:"submit",disabled:!n||!a},"Save"),r.a.createElement("button",{type:"reset",onClick:c},"Cancel")))))})))},x=function(){var e=Object(a.useState)([{title:"",description:"",x:0,y:0,id:0}]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([{title:"",description:"",x:0,y:0,id:0}]),l=Object(d.a)(i,2),p=l[0],b=l[1],y=Object(f.e)(),x=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/");case 2:return t=e.sent,n=t.data,e.abrupt("return",c(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return x()}),[]);var S=function(){return y.push("/form")},j=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("",t);case 2:return a=e.sent,r=a.data,e.abrupt("return",c([].concat(Object(u.a)(n),[r])));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t){var a=n.find((function(t){return t.id===e}));return function(e){var t=n.map((function(t){return t.id===e.id?e:t}));return c(t)}(a=Object(o.a)({},a,{},t))},O=function(e){var t="object"===typeof e?e:n.find((function(t){return t.id===e}));return E.put(t.id,t)};return r.a.createElement(a.Fragment,null,r.a.createElement(v,{onAddSticker:function(){return b({title:"",description:"",x:0,y:0,id:0}),S()}}),r.a.createElement("div",{className:"form"},r.a.createElement(k,{stickers:n,onRemove:function(e){return c(n.filter((function(t){return t!==e}))),E.delete(e.id)},onEdit:function(e){return b(e),S()},onChange:N,onSave:O}),r.a.createElement(f.a,{path:"/form"},r.a.createElement(h,{sticker:p,onSave:function(e){e.id?function(e){N(e.id,e),O(e)}(e):j(e)}}))))},S=n(14);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,null,r.a.createElement(x,null))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.3ad97559.chunk.js.map